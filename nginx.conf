user nobody;
worker_processes 8;
worker_cpu_affinity 00000001 00000010 00000100 00001000 00010000 00100000 01000000 10000000;
worker_rlimit_nofile 102400;
error_log logs/host.error.log  info;
pid logs/nginx.pid;
events {
    use epoll;
    worker_connections 102400;
}
http {
    include mime.types;
    default_type application/octet-stream;
    sendfile on;
    tcp_nopush on;
    keepalive_timeout 65;
    server_names_hash_bucket_size 128;
    client_header_buffer_size 2k;
    large_client_header_buffers 4 4k;
    client_max_body_size 100m;
    open_file_cache max=102400 inactive=20s;
    open_file_cache_valid 30s;
    open_file_cache_min_uses 1;
    charset utf-8;
    tcp_nodelay on;
    gzip on;
    gzip_min_length 1k;
    gzip_buffers 4 16k;
    gzip_http_version 1.0;
    gzip_comp_level 2;
    gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png application/javascript;
    gzip_vary on;
    upstream server_shop {
        server 127.0.0.1:9087 weight=5;
        server 127.0.0.1:9085 weight=5;
    }
    server {
        listen 80;
        server_name static.emeker.com dl.emeker.com pp.emeker.com pt.emeker.com 3.emeker.com gz.huayaguoji.cn ldty.emelife.cn kb.emelife.cn dn.emelife.cn bmbxi.emeker.com ztm.gytggz.com dmiztm.gytggz.com ztm.emeker.com jialikangq.emeker.com jialikangh.emeker.com;
        return 301 https://$host$request_uri;
    }
    server {
        listen 80;
        server_name chao.emeker.com;
        location / {
            proxy_pass http://127.0.0.1:845;
            proxy_redirect http://upload.emeker.com https://upload.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location /1.txt {
            root /data/doc;
        }
    }
    server {
        listen 80;
        server_name 112.74.133.37;
        location / {
            proxy_pass http://127.0.0.1:845;
            proxy_redirect http://upload.emeker.com https://upload.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location /1.txt {
            root /data/doc;
        }
        location /redis/ {
            proxy_pass http://127.0.0.1:3200;
            proxy_http_version 1.1;
            proxy_redirect off;
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name upload.emeker.com;
        ssl on;
        ssl_certificate ./cert/upload.emeker.com/1702753_upload.emeker.com.pem;
        ssl_certificate_key ./cert/upload.emeker.com/1702753_upload.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            proxy_pass http://127.0.0.1:845;
            proxy_redirect http://upload.emeker.com https://upload.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location /1.txt {
            root /data/doc;
        }
    }
    server {
        listen 80;
        server_name upload.emeker.com;
        location / {
            proxy_pass http://127.0.0.1:845;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto http;
        }
        location /1.txt {
            root /data/doc;
        }
    }
    server {
        listen 443;
        server_name uploadx.emeker.com;
        ssl on;
        ssl_certificate ./cert/uploadx.emeker.com/2279492_uploadx.emeker.com.pem;
        ssl_certificate_key ./cert/uploadx.emeker.com/2279492_uploadx.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            proxy_pass http://127.0.0.1:845;
            proxy_redirect http://uploadx.emeker.com https://uploadx.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location /1.txt {
            root /data/doc;
        }
    }
    server {
        listen 80;
        server_name uploadx.emeker.com;
        location / {
            proxy_pass http://127.0.0.1:845;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto http;
        }
        location /1.txt {
            root /data/doc;
        }
    }
    server {
        listen 443;
        server_name static.emeker.com;
        ssl on;
        ssl_certificate ./cert/static/1702500_static.emeker.com.pem;
        ssl_certificate_key ./cert/static/1702500_static.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            proxy_pass http://127.0.0.1:844;
            proxy_redirect http://static.emeker.com https://static.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
    }
    server {
        listen 443;
        server_name dl.emeker.com;
        ssl on;
        ssl_certificate ./cert/dl.emeker.com/1702672_dl.emeker.com.pem;
        ssl_certificate_key ./cert/dl.emeker.com/1702672_dl.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            proxy_pass http://127.0.0.1:9080;
            proxy_redirect http://static.emeker.com https://static.emeker.com;
            proxy_redirect http://dl.emeker.com https://dl.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location ^~ /socket.io/ {
            proxy_pass http://10.45.188.194:9099;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_redirect off;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name pp.emeker.com;
        ssl on;
        ssl_certificate ./cert/pp.emeker.com/1702697_pp.emeker.com.pem;
        ssl_certificate_key ./cert/pp.emeker.com/1702697_pp.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            proxy_pass http://127.0.0.1:9081;
            proxy_redirect http://static.emeker.com https://static.emeker.com;
            proxy_redirect http://pp.emeker.com https://pp.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location ^~ /socket.io/ {
            proxy_pass http://10.45.188.194:9099;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_redirect off;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name pt.emeker.com;
        ssl on;
        ssl_certificate ./cert/pt.emeker.com/1702574_pt.emeker.com.pem;
        ssl_certificate_key ./cert/pt.emeker.com/1702574_pt.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            proxy_pass http://127.0.0.1:9082;
            proxy_redirect http://static.emeker.com https://static.emeker.com;
            proxy_redirect http://pt.emeker.com https://pt.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location /hv57ROJBuU.txt {
            root /data/doc;
        }
        location ^~ /socket.io/ {
            proxy_pass http://10.45.188.194:9099;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_redirect off;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /mkshop {
            index home.html;
            root /data/snail-web/;
            try_files $uri $uri/ /mkshop/home.html;
        }
        location /mkshop/api/ {
            rewrite /mkshop/api/(.+)$ /$1 break;
            proxy_pass http://server_shop;
            proxy_redirect off;
            proxy_set_header Host 3.emeker.com;
            proxy_set_header X-Forwarded-Host 3.emeker.com;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /mkshop/payapi/ {
            rewrite /mkshop/payapi/(.+)$ /$1 break;
            proxy_pass https://pay.emeker.com;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /mkshop/mkxyapi/ {
            rewrite /mkshop/mkxyapi/(.+)$ /$1 break;
            proxy_pass https://www.emeker.com;
            proxy_redirect off;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        error_page 404 =https://pt.emeker.com/mkshop;
        error_page 502 = 50x.html;
    }
    server {
        listen 443;
        server_name 3.emeker.com;
        ssl on;
        ssl_certificate ./cert/3.emeker.com/1702661_3.emeker.com.pem;
        ssl_certificate_key ./cert/3.emeker.com/1702661_3.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location /MP_verify_pP82VKtbVz59frsw.txt {
            root /data/doc;
        }
        location / {
            proxy_pass http://server_shop;
            proxy_redirect http://3.emeker.com https://3.emeker.com;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
        }
        location /v2/ {
            rewrite /v2/(.+)$ /$1 break;
            proxy_pass http://server_shop;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name wap.emeker.com;
        ssl on;
        ssl_certificate ./cert/wap.emeker.com/214436631800408.pem;
        ssl_certificate_key ./cert/wap.emeker.com/214436631800408.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        index index.html;
        root /data/mkwap/dist/;
        location / {
            try_files $uri $uri/ /index.html;
        }
        location /api {
            rewrite /api/(.+)$ /$1 break;
            proxy_pass http://server_shop;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Host $server_name;
            proxy_set_header X-Forwarded-Proto https;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 80;
        server_name emeker.emeker.com;
        charset utf-8;
        location / {
            proxy_pass http://127.0.0.1:9084;
            proxy_redirect http://static.emeker.com https://static.emeker.com;
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 80;
        server_name www.emelife.cn emelife.cn erp.emelife.cn www.emelife.com.cn emelife.com.cn www.emelife.net emelife.net www.meidp.cn meidp.cn lvdisxy.cn www.lvdisxy.cn jcassets.com www.jcassets.com sxxxmd.com www.sxxxmd.com;
        charset utf-8;
        location / {
            proxy_pass http://127.0.0.1:7111;
            proxy_redirect off;
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 80;
        server_name koudaicang.com www.koudaicang.com;
        charset utf-8;
        location / {
            proxy_pass http://127.0.0.1:6111;
            proxy_redirect off;
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name static.app.emeker.com;
        ssl on;
        ssl_certificate ./cert/static.app.emeker.com/2031838_static.app.emeker.com.pem;
        ssl_certificate_key ./cert/static.app.emeker.com/2031838_static.app.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            index index.html;
            root /data/snail-web/mkxy/;
            try_files $uri $uri/ /index.html;
        }
        location /mkxy/api/ {
            rewrite /mkxy/api/(.+)$ /$1 break;
            proxy_pass https://www.emeker.com;
            proxy_redirect off;
            proxy_set_header Host www.emeker.com;
            proxy_set_header X-Forwarded-Host www.emeker.com;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        error_page 404 =https://static.app.emeker.com;
        error_page 502 = 50x.html;
    }
    server {
        listen 443;
        server_name gz.huayaguoji.cn;
        ssl_certificate ./cert/gz.huayaguoji.cn/1567066_gz.huayaguoji.cn.pem;
        ssl_certificate_key ./cert/gz.huayaguoji.cn/1567066_gz.huayaguoji.cn.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            index index.html;
            root /data/huashang/dist/hspc/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api/file/view/ {
            rewrite /api/file/view/(.+)$ /$1 break;
            root /data/huashang/images/huashang;
        }
        location /Wx {
            proxy_pass http://127.0.0.1:3003;
#rewrite /Wx/(.+)$ /$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /api {
            proxy_pass http://127.0.0.1:3003;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name kb.emelife.cn;
        location /9638221438.txt {
            root /data/ldty;
        }
        location /MP_verify_x6CpAGhGcz6oMC3y.txt {
            root /data/ldty;
        }
        location / {
            index index.html;
            root /data/ldty/dist/ldmobile/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3400;
            rewrite /api/(.+)$ /wx/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        ssl_certificate ./cert/kb.emelife.cn/1614242_kb.emelife.cn.pem;
        ssl_certificate_key ./cert/kb.emelife.cn/1614242_kb.emelife.cn.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
    }
    server {
        listen 443;
        server_name kbson.emelife.cn;
        location / {
            root /data/college;
        }
        location /MP_verify_JRpHrPOmubvJmaUX.txt {
            root /data/ldty;
        }
        ssl_certificate ./cert/kb.emelife.cn/2160141_kbson.emelife.cn.pem;
        ssl_certificate_key ./cert/kb.emelife.cn/2160141_kbson.emelife.cn.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
    }
    server {
        listen 443;
        server_name ldty.emelife.cn;
        ssl_certificate ./cert/ldty.emelife.cn/1604847_ldty.emelife.cn.pem;
        ssl_certificate_key ./cert/ldty.emelife.cn/1604847_ldty.emelife.cn.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            index index.html;
            root /data/ldty/dist/ldpc/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3400;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name dnm.emelife.cn;
        location /MP_verify_5qjbHtpXi35lhD8h.txt {
            root /data/dn;
        }
        location / {
            index index.html;
            root /data/dn/dist/dnmobile/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3500;
            rewrite /api/(.+)$ /wx/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location ^~ /ws/msg {
            proxy_pass http://127.0.0.1:3500;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_redirect off;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /file {
            proxy_pass http://127.0.0.1:3500;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        ssl_certificate ./cert/dnm.emelife.cn/1822367_dnm.emelife.cn.pem;
        ssl_certificate_key ./cert/dnm.emelife.cn/1822367_dnm.emelife.cn.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
    }
    server {
        listen 443;
        server_name dn.emelife.cn;
        ssl_certificate ./cert/dn.emelife.cn/1626720_dn.emelife.cn.pem;
        ssl_certificate_key ./cert/dn.emelife.cn/1626720_dn.emelife.cn.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            index index.html;
            root /data/dn/dist/dnpc/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3500;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /file {
            proxy_pass http://127.0.0.1:3500;
#           rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name bmbxi.emeker.com;
        ssl_certificate ./cert/bmbxi.emeker.com/1653917_bmbxi.emeker.com.pem;
        ssl_certificate_key ./cert/bmbxi.emeker.com/1653917_bmbxi.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location /wb {
            proxy_pass http://127.0.0.1:3600;
#rewrite /Wx/(.+)$ /$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location / {
            index index.html;
            root /data/bmbxi/dist/bmbxipc/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api/file/view/ {
            rewrite /api/file/view/(.+)$ /$1 break;
            root /data/bmbxi/images;
        }
        location /api {
            proxy_pass http://127.0.0.1:3600;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name ztm.gytggz.com;
        location /MP_verify_yfkfdGQCXiUX5pC8.txt {
            root /data/zetmay;
        }
        location / {
            index index.html;
            root /data/zetmay/dist/zetmobile/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3300;
            rewrite /api/(.+)$ /wb/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location ^~ /ws/msg {
            proxy_pass http://127.0.0.1:3300;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_redirect off;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        ssl_certificate ./cert/ztm.gytggz.com/1561304_ztm.gytggz.com.pem;
        ssl_certificate_key ./cert/ztm.gytggz.com/1561304_ztm.gytggz.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
    }
    server {
        listen 443;
        server_name dmiztm.gytggz.com;
        ssl_certificate ./cert/dmiztm.gytggz.com/1561317_dmiztm.gytggz.com.pem;
        ssl_certificate_key ./cert/dmiztm.gytggz.com/1561317_dmiztm.gytggz.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            index index.html;
            root /data/zetmay/dist/zetpc/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3300;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name active.emeker.com;
        location /MP_verify_r1IGqWXOoWynleKM.txt {
            root /data/yaodu;
        }
        location / {
            index index.html;
            root /data/yaodu/dist/ydmobile/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3301;
            rewrite /api/(.+)$ /wb/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        ssl_certificate ./cert/active.emeker.com/1671081_active.emeker.com.pem;
        ssl_certificate_key ./cert/active.emeker.com/1671081_active.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
    }
    server {
        listen 443;
        server_name ztm.emeker.com;
        ssl_certificate ./cert/ztm.emeker.com/cert-1542356459881_ztm.emeker.com.crt;
        ssl_certificate_key ./cert/ztm.emeker.com/cert-1542356459881_ztm.emeker.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location / {
            index index.html;
            root /data/yaodu/dist/ydpc/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3301;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location ^~ /ws/msg {
            proxy_pass http://127.0.0.1:3301;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_redirect off;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /file {
            proxy_pass http://127.0.0.1:3301;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
    server {
        listen 443;
        server_name www.jcassets.com jcassets.com;
        location /tencent11067473241139866547.txt {
            root /data/jlk;
        }
        location /MP_verify_Zey39g1ZFVobZ9xp.txt {
            root /data/jlk;
        }
        location /9638221438.txt {
            root /data/hmpd;
        }
        location /MP_verify_aErceiA5pN4xHmh5.txt {
            root /data/hmpd;
        }
        location /MP_verify_rzmQXdttTaWJpNYW.txt {
            root /data/hmpd;
        }
        location /api/file/view/ {
            rewrite /api/file/view/(.+)$ /$1 break;
            root /data/jlk/images;
        }
        location /asset {
            rewrite /asset/(.+)$ /$1 break;
            root /data/jlk/target/dist/classes/asset;
        }
        location /wb/ {
            proxy_pass http://127.0.0.1:3005;
            rewrite /wb/(.+)$ /wb/$1 break;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto https;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            client_max_body_size 100m;
        }
        location /pl/ {
            proxy_pass http://127.0.0.1:3005;
            rewrite /pl/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto https;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            client_max_body_size 100m;
        }
        location / {
            proxy_pass http://127.0.0.1:3005;
            rewrite / /wb/pc/index.html break;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto https;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            client_max_body_size 100m;
        }
        location ^~ /ws/msg {
            proxy_pass http://127.0.0.1:3005;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host             $host;
            proxy_set_header X-Real-IP        $remote_addr;
            proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;
            proxy_redirect off;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        ssl_certificate ./cert/jialikang.emeker.com/1942553_www.jcassets.com.pem;
        ssl_certificate_key ./cert/jialikang.emeker.com/1942553_www.jcassets.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
    }
    server {
        listen 443;
        server_name jlk.jcassets.com;
        ssl_certificate ./cert/jialikang.emeker.com/1984170_jlk.jcassets.com.pem;
        ssl_certificate_key ./cert/jialikang.emeker.com/1984170_jlk.jcassets.com.key;
        ssl_session_timeout 5m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;
        ssl_prefer_server_ciphers on;
        location /api/file/view/ {
            rewrite /api/file/view/(.+)$ /$1 break;
            root /data/jlk/images;
        }
        location / {
            index index.html;
            root /data/jlk/dist/jlkpc/dist;
            try_files $uri $uri/ /index.html;
        }
        location /api {
            proxy_pass http://127.0.0.1:3005;
            rewrite /api/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
        location /pl {
            proxy_pass http://127.0.0.1:3005;
            rewrite /pl/(.+)$ /pl/$1 break;
            proxy_redirect off;
            proxy_set_header Host 127.0.0.1;
            proxy_set_header X-Forwarded-Host 127.0.0.1;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
            proxy_max_temp_file_size 0;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
        }
    }
}
